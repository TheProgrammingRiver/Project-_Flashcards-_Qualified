{"ast":null,"code":"var _jsxFileName = \"/Users/river/Desktop/Project-_Flashcards-_Qualified-main/src/Layout/decks/edit/EditDeck.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { updateDeck, readDeck } from \"../../../utils/api\";\nimport NavigationBar from \"../../NavigationBar\";\nimport NotFound from \"../../NotFound\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditDeck() {\n  _s();\n  const [deckName, setDeckName] = useState(\"\");\n  const [deckDescription, setDeckDescription] = useState(\"\");\n  const history = useHistory();\n  const {\n    deckId\n  } = useParams();\n  useEffect(() => {\n    const abortController = new AbortController();\n    readDeck(deckId, abortController.signal).then(deck => {\n      setDeckName(deck.name);\n      setDeckDescription(deck.description);\n    }).catch(() => history.push(\"/NotFound\"));\n    return () => abortController.abort();\n  }, [deckId]);\n  const [abortControllers, setAbortControllers] = useState([]);\n  const _abortPreviousCall = () => {\n    if (abortControllers.length) {\n      const lastIndex = abortControllers.length - 1;\n      const lastAbortController = abortControllers[lastIndex];\n      lastAbortController.abort();\n    }\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    _abortPreviousCall();\n    const newAbortController = new AbortController();\n    setAbortControllers([...abortControllers, newAbortController]);\n    const editedDeck = {\n      id: deckId,\n      name: deckName,\n      description: deckDescription\n    };\n    updateDeck(editedDeck, newAbortController.signal).then(_ref => {\n      let {\n        id\n      } = _ref;\n      window.alert(\"Deck Info Updated\");\n      history.push(\"/decks/\" + id);\n    });\n    console.log(\"attemp submit\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavigationBar, {\n      navItems: [deckName, \"Edit Deck\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit Deck\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"deckName\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"deckName\",\n          \"aria-describedby\": \"newDeck\",\n          placeholder: \"Deck Name\",\n          required: true,\n          value: deckName,\n          onChange: _ref2 => {\n            let {\n              target: {\n                value\n              }\n            } = _ref2;\n            setDeckName(value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          id: \"newDeck\",\n          className: \"form-text text-muted\",\n          children: \"This field is requuired\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"form-control\",\n          id: \"description\",\n          placeholder: \"Brief description of the deck\",\n          rows: \"3\",\n          required: true,\n          value: deckDescription,\n          onChange: _ref3 => {\n            let {\n              target: {\n                value\n              }\n            } = _ref3;\n            setDeckDescription(value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/decks/${deckId}`,\n        className: \"btn btn-dark mr-2\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(EditDeck, \"OnB8kZeeTAma7aBK5P8MVlOc++E=\", false, function () {\n  return [useHistory, useParams];\n});\n_c = EditDeck;\nexport default EditDeck;\nvar _c;\n$RefreshReg$(_c, \"EditDeck\");","map":{"version":3,"names":["React","useEffect","useState","useHistory","useParams","Link","updateDeck","readDeck","NavigationBar","NotFound","EditDeck","deckName","setDeckName","deckDescription","setDeckDescription","history","deckId","abortController","AbortController","signal","then","deck","name","description","catch","push","abort","abortControllers","setAbortControllers","_abortPreviousCall","length","lastIndex","lastAbortController","handleSubmit","event","preventDefault","newAbortController","editedDeck","id","window","alert","console","log","target","value"],"sources":["/Users/river/Desktop/Project-_Flashcards-_Qualified-main/src/Layout/decks/edit/EditDeck.js"],"sourcesContent":["import React, {useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport {Link} from \"react-router-dom\"\nimport { updateDeck, readDeck} from \"../../../utils/api\";\nimport NavigationBar from \"../../NavigationBar\";\nimport NotFound from \"../../NotFound\";\n\nfunction EditDeck() {\n  const [deckName, setDeckName] = useState(\"\");\n  const [deckDescription, setDeckDescription] = useState(\"\");\n  const history = useHistory();\n  const {deckId}=useParams();  \n  useEffect(()=>{\n      const abortController= new AbortController();\n      readDeck(deckId,abortController.signal).then((deck)=>{\n          setDeckName(deck.name);\n          setDeckDescription(deck.description);\n      }).catch(()=>history.push(\"/NotFound\"));\n      return ()=>abortController.abort();\n  },[deckId]);\n\n  const [abortControllers, setAbortControllers] = useState([]);\n  const _abortPreviousCall = () => {\n    if (abortControllers.length) {\n      const lastIndex = abortControllers.length - 1;\n      const lastAbortController = abortControllers[lastIndex];\n      lastAbortController.abort();\n    }\n  };\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    _abortPreviousCall();\n    const newAbortController = new AbortController();\n    setAbortControllers([...abortControllers, newAbortController]);\n    const editedDeck = {\n      id: deckId,   \n      name: deckName,\n      description: deckDescription,\n    };\n    updateDeck(editedDeck, newAbortController.signal).then(({id})=>{\n        window.alert(\"Deck Info Updated\");\n        history.push(\"/decks/\"+id);\n    });\n    console.log(\"attemp submit\");\n  };\n\n  return (\n    <div>\n      <NavigationBar navItems={[deckName,\"Edit Deck\"]} />\n      <h2>Edit Deck</h2>\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"deckName\">Name</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"deckName\"\n            aria-describedby=\"newDeck\"\n            placeholder=\"Deck Name\"\n            required\n            value={deckName}\n            onChange={({ target: { value } }) => {\n              setDeckName(value);\n            }}\n          />\n          <small id=\"newDeck\" className=\"form-text text-muted\">\n            This field is requuired\n          </small>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"description\">Description</label>\n          <textarea\n            className=\"form-control\"\n            id=\"description\"\n            placeholder=\"Brief description of the deck\"\n            rows=\"3\"\n            required\n            value={deckDescription}\n            onChange={({ target: { value } }) => {\n              setDeckDescription(value);\n            }}\n          />\n        </div>\n        <Link to={`/decks/${deckId}`} className=\"btn btn-dark mr-2\">\n          Cancel\n        </Link>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n}\nexport default EditDeck;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}